{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropTypes = require(\"prop-types\");\n\nvar TextField_1 = require(\"material-ui/TextField\");\n\nvar ObjectAssign = require(\"object-assign\");\n\nvar bind_decorator_1 = require(\"bind-decorator\");\n\nvar errorNames;\n\n(function (errorNames) {\n  errorNames.none = 'none';\n  errorNames.invalidSymbol = 'invalidSymbol';\n  errorNames.incompleteNumber = 'incompleteNumber';\n  errorNames.singleMinus = 'singleMinus';\n  errorNames.singleFloatingPoint = 'singleFloatingPoint';\n  errorNames.singleZero = 'singleZero';\n  errorNames.min = 'min';\n  errorNames.max = 'max';\n  errorNames.required = 'required';\n  errorNames.clean = 'clean';\n  errorNames.allow = 'allow';\n  errorNames.limit = 'limit';\n})(errorNames || (errorNames = {}));\n\nvar strategies;\n\n(function (strategies) {\n  strategies.ignore = 'ignore';\n  strategies.warn = 'warn';\n  strategies.allow = 'allow';\n})(strategies || (strategies = {}));\n\nvar typeofs;\n\n(function (typeofs) {\n  typeofs.stringType = 'string';\n  typeofs.numberType = 'number';\n})(typeofs || (typeofs = {}));\n\nvar constants;\n\n(function (constants) {\n  constants.emptyString = '';\n  constants.dash = '-';\n  constants.dot = '.';\n  constants.zero = 0;\n  constants.one = 1;\n  constants.text = 'text';\n  constants.zeroString = '0';\n  constants.minusOne = -1;\n  constants.boolTrue = true;\n  constants.boolFalse = false;\n})(constants || (constants = {}));\n\nvar NumberInput = function (_super) {\n  __extends(NumberInput, _super);\n\n  function NumberInput(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.constProps = {\n      type: constants.text,\n      onChange: _this.onChange,\n      onBlur: _this.onBlur,\n      ref: _this.refTextField\n    };\n    return _this;\n  }\n\n  NumberInput.getValidValue = function (value) {\n    var match = value.match(NumberInput.allowed);\n    return match !== null ? match.index === constants.zero ? match[constants.zero] : match.join(constants.emptyString) : constants.emptyString;\n  };\n\n  NumberInput.deleteOwnProps = function (props) {\n    var prop;\n\n    for (var index = 0; index < NumberInput.deleteProps.length; ++index) {\n      prop = NumberInput.deleteProps[index];\n\n      if (props.hasOwnProperty(prop)) {\n        delete props[prop];\n      }\n    }\n  };\n\n  NumberInput.validateNumberValue = function (value, props) {\n    var max = props.max,\n        min = props.min;\n\n    if (typeof max === typeofs.numberType && value > max) {\n      return constants.one;\n    }\n\n    if (typeof min === typeofs.numberType && value < min) {\n      return constants.minusOne;\n    }\n\n    return constants.zero;\n  };\n\n  NumberInput.validateValue = function (value, props) {\n    var required = props.required,\n        strategy = props.strategy,\n        min = props.min;\n\n    if (value === constants.emptyString) {\n      return required ? errorNames.required : errorNames.clean;\n    } else {\n      if (value.match(NumberInput.validSymbols)) {\n        if (value.match(NumberInput.stricAllowed)) {\n          if (value.match(NumberInput.validNumber)) {\n            var numberValue = Number(value);\n            var floatingPoint = value.indexOf(constants.dot);\n            var decimal = floatingPoint > constants.minusOne;\n            var whole = decimal ? Number(value.substring(constants.zero, floatingPoint)) : min;\n\n            switch (NumberInput.validateNumberValue(numberValue, props)) {\n              case constants.one:\n                return errorNames.max;\n\n              case constants.minusOne:\n                return strategy !== strategies.allow && min > constants.zero && numberValue > constants.zero && (!decimal || decimal && whole > min) ? errorNames.allow : errorNames.min;\n\n              default:\n                return errorNames.none;\n            }\n          } else {\n            return strategy !== strategies.allow && value === constants.dash && min >= constants.zero ? errorNames.limit : min < 0 ? errorNames.allow : errorNames.incompleteNumber;\n          }\n        } else {\n          switch (value[value.length - constants.one]) {\n            case constants.dash:\n              return errorNames.singleMinus;\n\n            case constants.dot:\n              return errorNames.singleFloatingPoint;\n\n            case constants.zeroString:\n              return errorNames.singleZero;\n\n            default:\n              return errorNames.invalidSymbol;\n          }\n        }\n      } else {\n        return errorNames.invalidSymbol;\n      }\n    }\n  };\n\n  NumberInput.overrideRequestedValue = function (error, value, props) {\n    switch (error) {\n      case errorNames.min:\n        return String(props.min);\n\n      case errorNames.max:\n        return String(props.max);\n\n      default:\n        return props.strategy !== strategies.allow && value === constants.dash && props.min >= 0 ? constants.emptyString : value;\n    }\n  };\n\n  NumberInput.overrideError = function (error, props) {\n    switch (error) {\n      case errorNames.allow:\n        return errorNames.none;\n\n      case errorNames.limit:\n        return props.required ? errorNames.required : errorNames.clean;\n\n      default:\n        return error;\n    }\n  };\n\n  NumberInput.revertAllowToMin = function (error) {\n    return error === errorNames.allow ? errorNames.min : error;\n  };\n\n  NumberInput.emitValid = function (error, overridenError) {\n    return error !== errorNames.allow && overridenError === errorNames.none;\n  };\n\n  NumberInput.prototype.emitEvents = function (nextError, value, valid, props) {\n    var onError = props.onError,\n        onValid = props.onValid;\n\n    if (this.error !== nextError && props.strategy !== strategies.ignore) {\n      if (onError) {\n        onError(nextError);\n      }\n\n      this.error = nextError;\n    }\n\n    if (onValid && valid && this.lastValid !== value) {\n      onValid(Number(value));\n      this.lastValid = value;\n    }\n  };\n\n  NumberInput.prototype.takeActionForValue = function (value, props) {\n    var strategy = props.strategy,\n        onRequestValue = props.onRequestValue,\n        propsValue = props.value;\n    var error = NumberInput.validateValue(value, props);\n    var valid = NumberInput.overrideRequestedValue(error, NumberInput.getValidValue(value), props);\n    var overridenError = NumberInput.overrideError(error, props);\n    var emitValid = NumberInput.emitValid(error, overridenError);\n    this.emitEvents(overridenError, valid, emitValid, props);\n\n    if (strategy !== strategies.allow && valid !== value) {\n      if (typeof propsValue !== typeofs.stringType) {\n        this.getInputNode().value = valid;\n      } else if (onRequestValue) {\n        onRequestValue(valid);\n      }\n    }\n  };\n\n  NumberInput.prototype.shouldTakeActionForValue = function (props) {\n    var _a = this.props,\n        min = _a.min,\n        max = _a.max,\n        required = _a.required,\n        strategy = _a.strategy;\n    return min !== props.min || max !== props.max || required !== props.required || strategy !== props.strategy;\n  };\n\n  NumberInput.prototype.refTextField = function (textField) {\n    this.textField = textField;\n  };\n\n  NumberInput.prototype.onChange = function (event) {\n    var value = event.currentTarget.value;\n    var onChange = this.props.onChange;\n\n    if (onChange) {\n      onChange(event, value);\n    }\n\n    if (typeof this.props.value !== typeofs.stringType) {\n      this.takeActionForValue(value, this.props);\n    }\n  };\n\n  NumberInput.prototype.onBlur = function (event) {\n    var value = event.currentTarget.value;\n    var props = this.props;\n    var onBlur = props.onBlur;\n    var error = NumberInput.overrideError(NumberInput.revertAllowToMin(NumberInput.validateValue(value, props)), props);\n    this.emitEvents(error, value, constants.boolFalse, props);\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  NumberInput.prototype.getInputNode = function () {\n    return this.textField.getInputNode();\n  };\n\n  NumberInput.prototype.getTextField = function () {\n    return this.textField;\n  };\n\n  NumberInput.prototype.componentDidMount = function () {\n    var props = this.props;\n    var value = props.value;\n    this.takeActionForValue(typeof value === typeofs.stringType ? value : this.getInputNode().value, props);\n  };\n\n  NumberInput.prototype.componentWillReceiveProps = function (props) {\n    var value = props.value;\n\n    if (value !== this.props.value || this.shouldTakeActionForValue(props)) {\n      this.takeActionForValue(value, props);\n    }\n  };\n\n  NumberInput.prototype.render = function () {\n    var _a = this,\n        props = _a.props,\n        constProps = _a.constProps;\n\n    var value = props.value,\n        defaultValue = props.defaultValue;\n    var inputProps = ObjectAssign({}, props, constProps, {\n      defaultValue: typeof defaultValue === typeofs.numberType ? String(defaultValue) : undefined,\n      value: value\n    });\n\n    if (typeof inputProps.value !== typeofs.stringType) {\n      delete inputProps.value;\n    }\n\n    if (inputProps.defaultValue === undefined) {\n      delete inputProps.defaultValue;\n    }\n\n    NumberInput.deleteOwnProps(inputProps);\n    return React.createElement(TextField_1.default, inputProps);\n  };\n\n  NumberInput.validSymbols = /(\\-|\\.|\\d)+/;\n  NumberInput.stricAllowed = /^-?((0|([1-9]\\d{0,}))(\\.\\d{0,})?)?$/;\n  NumberInput.validNumber = /^-?((0(\\.\\d+)?)|([1-9]\\d{0,}(\\.\\d+)?))$/;\n  NumberInput.allowed = /-?((0|([1-9]\\d{0,}))(\\.\\d{0,})?)?/;\n  NumberInput.deleteProps = ['strategy', 'onError', 'onValid', 'onRequestValue'];\n  NumberInput.propTypes = {\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    errorStyle: PropTypes.object,\n    errorText: PropTypes.node,\n    floatingLabelFixed: PropTypes.bool,\n    floatingLabelFocusStyle: PropTypes.object,\n    floatingLabelStyle: PropTypes.object,\n    floatingLabelText: PropTypes.node,\n    fullWidth: PropTypes.bool,\n    hintStyle: PropTypes.object,\n    hintText: PropTypes.node,\n    id: PropTypes.string,\n    inputStyle: PropTypes.object,\n    name: PropTypes.string,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onValid: PropTypes.func,\n    onError: PropTypes.func,\n    onRequestValue: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    style: PropTypes.object,\n    underlineDisabledStyle: PropTypes.object,\n    underlineFocusStyle: PropTypes.object,\n    underlineShow: PropTypes.bool,\n    underlineStyle: PropTypes.object,\n    defaultValue: PropTypes.number,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    required: PropTypes.bool,\n    strategy: PropTypes.oneOf([strategies.ignore, strategies.warn, strategies.allow]),\n    value: PropTypes.string\n  };\n  NumberInput.defaultProps = {\n    required: constants.boolFalse,\n    strategy: strategies.allow\n  };\n\n  __decorate([bind_decorator_1.default], NumberInput.prototype, \"refTextField\", null);\n\n  __decorate([bind_decorator_1.default], NumberInput.prototype, \"onChange\", null);\n\n  __decorate([bind_decorator_1.default], NumberInput.prototype, \"onBlur\", null);\n\n  return NumberInput;\n}(React.Component);\n\nexports.NumberInput = NumberInput;\nexports.default = NumberInput;","map":{"version":3,"sources":["/home/gol_acheron/node_modules/material-ui-number-input/NumberInput.js"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","exports","value","React","require","PropTypes","TextField_1","ObjectAssign","bind_decorator_1","errorNames","none","invalidSymbol","incompleteNumber","singleMinus","singleFloatingPoint","singleZero","min","max","required","clean","allow","limit","strategies","ignore","warn","typeofs","stringType","numberType","constants","emptyString","dash","dot","zero","one","text","zeroString","minusOne","boolTrue","boolFalse","NumberInput","_super","props","_this","call","constProps","type","onChange","onBlur","ref","refTextField","getValidValue","match","allowed","index","join","deleteOwnProps","prop","deleteProps","validateNumberValue","validateValue","strategy","validSymbols","stricAllowed","validNumber","numberValue","Number","floatingPoint","indexOf","decimal","whole","substring","overrideRequestedValue","error","String","overrideError","revertAllowToMin","emitValid","overridenError","emitEvents","nextError","valid","onError","onValid","lastValid","takeActionForValue","onRequestValue","propsValue","getInputNode","shouldTakeActionForValue","_a","textField","event","currentTarget","getTextField","componentDidMount","componentWillReceiveProps","render","defaultValue","inputProps","undefined","createElement","default","propTypes","className","string","disabled","bool","errorStyle","object","errorText","node","floatingLabelFixed","floatingLabelFocusStyle","floatingLabelStyle","floatingLabelText","fullWidth","hintStyle","hintText","id","inputStyle","name","func","onFocus","onKeyDown","style","underlineDisabledStyle","underlineFocusStyle","underlineShow","underlineStyle","number","oneOf","defaultProps","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar TextField_1 = require(\"material-ui/TextField\");\nvar ObjectAssign = require(\"object-assign\");\nvar bind_decorator_1 = require(\"bind-decorator\");\nvar errorNames;\n(function (errorNames) {\n    errorNames.none = 'none';\n    errorNames.invalidSymbol = 'invalidSymbol';\n    errorNames.incompleteNumber = 'incompleteNumber';\n    errorNames.singleMinus = 'singleMinus';\n    errorNames.singleFloatingPoint = 'singleFloatingPoint';\n    errorNames.singleZero = 'singleZero';\n    errorNames.min = 'min';\n    errorNames.max = 'max';\n    errorNames.required = 'required';\n    errorNames.clean = 'clean';\n    errorNames.allow = 'allow';\n    errorNames.limit = 'limit';\n})(errorNames || (errorNames = {}));\nvar strategies;\n(function (strategies) {\n    strategies.ignore = 'ignore';\n    strategies.warn = 'warn';\n    strategies.allow = 'allow';\n})(strategies || (strategies = {}));\nvar typeofs;\n(function (typeofs) {\n    typeofs.stringType = 'string';\n    typeofs.numberType = 'number';\n})(typeofs || (typeofs = {}));\nvar constants;\n(function (constants) {\n    constants.emptyString = '';\n    constants.dash = '-';\n    constants.dot = '.';\n    constants.zero = 0;\n    constants.one = 1;\n    constants.text = 'text';\n    constants.zeroString = '0';\n    constants.minusOne = -1;\n    constants.boolTrue = true;\n    constants.boolFalse = false;\n})(constants || (constants = {}));\nvar NumberInput = (function (_super) {\n    __extends(NumberInput, _super);\n    function NumberInput(props) {\n        var _this = _super.call(this, props) || this;\n        _this.constProps = {\n            type: constants.text,\n            onChange: _this.onChange,\n            onBlur: _this.onBlur,\n            ref: _this.refTextField\n        };\n        return _this;\n    }\n    NumberInput.getValidValue = function (value) {\n        var match = value.match(NumberInput.allowed);\n        return match !== null ? (match.index === constants.zero ? match[constants.zero] : match.join(constants.emptyString)) : constants.emptyString;\n    };\n    NumberInput.deleteOwnProps = function (props) {\n        var prop;\n        for (var index = 0; index < NumberInput.deleteProps.length; ++index) {\n            prop = NumberInput.deleteProps[index];\n            if (props.hasOwnProperty(prop)) {\n                delete props[prop];\n            }\n        }\n    };\n    NumberInput.validateNumberValue = function (value, props) {\n        var max = props.max, min = props.min;\n        if ((typeof max === typeofs.numberType) && (value > max)) {\n            return constants.one;\n        }\n        if ((typeof min === typeofs.numberType) && (value < min)) {\n            return constants.minusOne;\n        }\n        return constants.zero;\n    };\n    NumberInput.validateValue = function (value, props) {\n        var required = props.required, strategy = props.strategy, min = props.min;\n        if (value === constants.emptyString) {\n            return required ? errorNames.required : errorNames.clean;\n        }\n        else {\n            if (value.match(NumberInput.validSymbols)) {\n                if (value.match(NumberInput.stricAllowed)) {\n                    if (value.match(NumberInput.validNumber)) {\n                        var numberValue = Number(value);\n                        var floatingPoint = value.indexOf(constants.dot);\n                        var decimal = floatingPoint > constants.minusOne;\n                        var whole = decimal ? Number(value.substring(constants.zero, floatingPoint)) : min;\n                        switch (NumberInput.validateNumberValue(numberValue, props)) {\n                            case constants.one: return errorNames.max;\n                            case constants.minusOne: return ((strategy !== strategies.allow) && (min > constants.zero) && (numberValue > constants.zero) && (!decimal || (decimal && (whole > min)))) ? errorNames.allow : errorNames.min;\n                            default: return errorNames.none;\n                        }\n                    }\n                    else {\n                        return (strategy !== strategies.allow) && (value === constants.dash) && (min >= constants.zero)\n                            ? errorNames.limit : (min < 0 ? errorNames.allow : errorNames.incompleteNumber);\n                    }\n                }\n                else {\n                    switch (value[value.length - constants.one]) {\n                        case constants.dash: return errorNames.singleMinus;\n                        case constants.dot: return errorNames.singleFloatingPoint;\n                        case constants.zeroString: return errorNames.singleZero;\n                        default: return errorNames.invalidSymbol;\n                    }\n                }\n            }\n            else {\n                return errorNames.invalidSymbol;\n            }\n        }\n    };\n    NumberInput.overrideRequestedValue = function (error, value, props) {\n        switch (error) {\n            case errorNames.min: return String(props.min);\n            case errorNames.max: return String(props.max);\n            default: return props.strategy !== strategies.allow && value === constants.dash && props.min >= 0 ? constants.emptyString : value;\n        }\n    };\n    NumberInput.overrideError = function (error, props) {\n        switch (error) {\n            case errorNames.allow: return errorNames.none;\n            case errorNames.limit: return props.required ? errorNames.required : errorNames.clean;\n            default: return error;\n        }\n    };\n    NumberInput.revertAllowToMin = function (error) {\n        return error === errorNames.allow ? errorNames.min : error;\n    };\n    NumberInput.emitValid = function (error, overridenError) {\n        return (error !== errorNames.allow) && (overridenError === errorNames.none);\n    };\n    NumberInput.prototype.emitEvents = function (nextError, value, valid, props) {\n        var onError = props.onError, onValid = props.onValid;\n        if ((this.error !== nextError) && (props.strategy !== strategies.ignore)) {\n            if (onError) {\n                onError(nextError);\n            }\n            this.error = nextError;\n        }\n        if (onValid && valid && (this.lastValid !== value)) {\n            onValid(Number(value));\n            this.lastValid = value;\n        }\n    };\n    NumberInput.prototype.takeActionForValue = function (value, props) {\n        var strategy = props.strategy, onRequestValue = props.onRequestValue, propsValue = props.value;\n        var error = NumberInput.validateValue(value, props);\n        var valid = NumberInput.overrideRequestedValue(error, NumberInput.getValidValue(value), props);\n        var overridenError = NumberInput.overrideError(error, props);\n        var emitValid = NumberInput.emitValid(error, overridenError);\n        this.emitEvents(overridenError, valid, emitValid, props);\n        if ((strategy !== strategies.allow) && (valid !== value)) {\n            if (typeof propsValue !== typeofs.stringType) {\n                this.getInputNode().value = valid;\n            }\n            else if (onRequestValue) {\n                onRequestValue(valid);\n            }\n        }\n    };\n    NumberInput.prototype.shouldTakeActionForValue = function (props) {\n        var _a = this.props, min = _a.min, max = _a.max, required = _a.required, strategy = _a.strategy;\n        return (min !== props.min) || (max !== props.max) || (required !== props.required) || (strategy !== props.strategy);\n    };\n    NumberInput.prototype.refTextField = function (textField) {\n        this.textField = textField;\n    };\n    NumberInput.prototype.onChange = function (event) {\n        var value = event.currentTarget.value;\n        var onChange = this.props.onChange;\n        if (onChange) {\n            onChange(event, value);\n        }\n        if (typeof this.props.value !== typeofs.stringType) {\n            this.takeActionForValue(value, this.props);\n        }\n    };\n    NumberInput.prototype.onBlur = function (event) {\n        var value = event.currentTarget.value;\n        var props = this.props;\n        var onBlur = props.onBlur;\n        var error = NumberInput.overrideError(NumberInput.revertAllowToMin(NumberInput.validateValue(value, props)), props);\n        this.emitEvents(error, value, constants.boolFalse, props);\n        if (onBlur) {\n            onBlur(event);\n        }\n    };\n    NumberInput.prototype.getInputNode = function () {\n        return this.textField.getInputNode();\n    };\n    NumberInput.prototype.getTextField = function () {\n        return this.textField;\n    };\n    NumberInput.prototype.componentDidMount = function () {\n        var props = this.props;\n        var value = props.value;\n        this.takeActionForValue(typeof value === typeofs.stringType ? value : this.getInputNode().value, props);\n    };\n    NumberInput.prototype.componentWillReceiveProps = function (props) {\n        var value = props.value;\n        if ((value !== this.props.value) || this.shouldTakeActionForValue(props)) {\n            this.takeActionForValue(value, props);\n        }\n    };\n    NumberInput.prototype.render = function () {\n        var _a = this, props = _a.props, constProps = _a.constProps;\n        var value = props.value, defaultValue = props.defaultValue;\n        var inputProps = ObjectAssign({}, props, constProps, {\n            defaultValue: typeof defaultValue === typeofs.numberType ? String(defaultValue) : undefined,\n            value: value,\n        });\n        if (typeof inputProps.value !== typeofs.stringType) {\n            delete inputProps.value;\n        }\n        if (inputProps.defaultValue === undefined) {\n            delete inputProps.defaultValue;\n        }\n        NumberInput.deleteOwnProps(inputProps);\n        return React.createElement(TextField_1.default, inputProps);\n    };\n    NumberInput.validSymbols = /(\\-|\\.|\\d)+/;\n    NumberInput.stricAllowed = /^-?((0|([1-9]\\d{0,}))(\\.\\d{0,})?)?$/;\n    NumberInput.validNumber = /^-?((0(\\.\\d+)?)|([1-9]\\d{0,}(\\.\\d+)?))$/;\n    NumberInput.allowed = /-?((0|([1-9]\\d{0,}))(\\.\\d{0,})?)?/;\n    NumberInput.deleteProps = ['strategy', 'onError', 'onValid', 'onRequestValue'];\n    NumberInput.propTypes = {\n        className: PropTypes.string,\n        disabled: PropTypes.bool,\n        errorStyle: PropTypes.object,\n        errorText: PropTypes.node,\n        floatingLabelFixed: PropTypes.bool,\n        floatingLabelFocusStyle: PropTypes.object,\n        floatingLabelStyle: PropTypes.object,\n        floatingLabelText: PropTypes.node,\n        fullWidth: PropTypes.bool,\n        hintStyle: PropTypes.object,\n        hintText: PropTypes.node,\n        id: PropTypes.string,\n        inputStyle: PropTypes.object,\n        name: PropTypes.string,\n        onBlur: PropTypes.func,\n        onChange: PropTypes.func,\n        onFocus: PropTypes.func,\n        onValid: PropTypes.func,\n        onError: PropTypes.func,\n        onRequestValue: PropTypes.func,\n        onKeyDown: PropTypes.func,\n        style: PropTypes.object,\n        underlineDisabledStyle: PropTypes.object,\n        underlineFocusStyle: PropTypes.object,\n        underlineShow: PropTypes.bool,\n        underlineStyle: PropTypes.object,\n        defaultValue: PropTypes.number,\n        min: PropTypes.number,\n        max: PropTypes.number,\n        required: PropTypes.bool,\n        strategy: PropTypes.oneOf([\n            strategies.ignore,\n            strategies.warn,\n            strategies.allow\n        ]),\n        value: PropTypes.string\n    };\n    NumberInput.defaultProps = {\n        required: constants.boolFalse,\n        strategy: strategies.allow\n    };\n    __decorate([\n        bind_decorator_1.default\n    ], NumberInput.prototype, \"refTextField\", null);\n    __decorate([\n        bind_decorator_1.default\n    ], NumberInput.prototype, \"onChange\", null);\n    __decorate([\n        bind_decorator_1.default\n    ], NumberInput.prototype, \"onBlur\", null);\n    return NumberInput;\n}(React.Component));\nexports.NumberInput = NumberInput;\nexports.default = NumberInput;\n"]},"metadata":{},"sourceType":"script"}