{"ast":null,"code":"import _regeneratorRuntime from\"/home/gol_acheron/probability-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gol_acheron/probability-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/gol_acheron/probability-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/gol_acheron/probability-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/gol_acheron/probability-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/gol_acheron/probability-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/gol_acheron/probability-calculator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import Distribution from'./Distribution';import React,{Component}from'react';import NumberField from'../Components/NumberField';import BarGraph from'../Components/BarGraph';import{choose,factorial}from'../Libraries/MyMath';import CalcProb from'../Components/CalcProb';import NumberSlider from'../Components/NumberSlider';var gr={labels:[],datasets:[{backgroundColor:'rgba(75,192,192, 0.6)',highlightStroke:\"rgba(220,220,220,1)\",borderWidth:0,data:[]}]};var BinomialNegativa2=/*#__PURE__*/function(_Component){_inherits(BinomialNegativa2,_Component);var _super=_createSuper(BinomialNegativa2);function BinomialNegativa2(props){var _this;_classCallCheck(this,BinomialNegativa2);_this=_super.call(this,props);_this.changeRange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,value){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.setState({probRange:value});case 2:case\"end\":return _context.stop();}}},_callee,this);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.changeP=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.setState({p:Number(event.target.value)});case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));return function(_x3){return _ref2.apply(this,arguments);};}();_this.changeR=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.setState({r:Number(event.target.value)});case 2:case\"end\":return _context3.stop();}}},_callee3,this);}));return function(_x4){return _ref3.apply(this,arguments);};}();_this.changePuntos=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event,value){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.setState({nPoints:Number(value)});case 2:case\"end\":return _context4.stop();}}},_callee4,this);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();_this.changeR=_this.changeR.bind(_assertThisInitialized(_this));_this.changeP=_this.changeP.bind(_assertThisInitialized(_this));_this.changeRange=_this.changeRange.bind(_assertThisInitialized(_this));_this.changePuntos=_this.changePuntos.bind(_assertThisInitialized(_this));_this.state={name:\"Binomial Negativa (v2)\",descripcion:\"Número de fracasos HASTA el k-ésimo éxito.\",p:0,r:1,media:0,nPoints:1,varianza:0,desviacion:0,probRange:[0,0],probabilidad:0};return _this;}_createClass(BinomialNegativa2,[{key:\"componentDidUpdate\",value:function componentDidUpdate(_prevProps,prevState){var _this2=this;if(prevState.p!==this.state.p||prevState.nPoints!==this.state.nPoints||prevState.r!==this.state.r||prevState.probRange!==this.state.probRange){this.setState({media:this.calcularMedia(),varianza:this.calcularVarianza(),desviacion:this.calcularDesviacion()});gr.labels=Array(this.state.nPoints-this.state.r+1).fill().map(function(_,idx){return _this2.state.r+idx;});var _data=this.calcularFuncion();gr.datasets=[{backgroundColor:'rgba(75,192,192, 0.6)',highlightStroke:\"rgba(220,220,220,1)\",borderWidth:0,data:_data}];var res=0;console.log(\"CALCULANDO ENTRE \"+this.state.probRange[0]+\" Y \"+this.state.probRange[1]);for(var i=this.state.probRange[0];i<=this.state.probRange[1];i++){console.log(this.calcularProbabilidad(i));res+=this.calcularProbabilidad(i);}console.log(\"RES= \"+res);this.setState({probabilidad:res});}}},{key:\"calcularMedia\",value:function calcularMedia(){var result=this.state.r/this.state.p;return result;}},{key:\"calcularVarianza\",value:function calcularVarianza(){var result=this.state.r/Math.pow(this.state.p,2);return result;}},{key:\"calcularDesviacion\",value:function calcularDesviacion(){var result=Math.pow(this.state.r/Math.pow(this.state.p,2),0.5);return result;}},{key:\"calcularFuncion\",value:function calcularFuncion(){var _data=[];for(var i=this.state.r;i<=this.state.nPoints;i++){var prob=this.calcularProbabilidad(i);_data.push(Number(prob));}return _data;}},{key:\"calcularProbabilidad\",value:function calcularProbabilidad(x){var result=choose(x-1,x-this.state.r)*Math.pow(this.state.p,this.state.r)*Math.pow(1-this.state.p,x-+this.state.r);return result;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NumberField,{label:\"p\",min:0,max:1,step:\"0.1\",defaultValue:0,helpText:\"Probabilidad éxito\",handleChange:this.changeP}),/*#__PURE__*/_jsx(NumberField,{label:\"k\",min:1,max:999999,step:\"1\",defaultValue:1,helpText:\"Nº éxito\",handleChange:this.changeR}),/*#__PURE__*/_jsx(Distribution,{name:this.state.name,descripcion:this.state.descripcion,media:this.state.media,varianza:this.state.varianza,desviacion:this.state.desviacion}),/*#__PURE__*/_jsx(BarGraph,{data:gr}),/*#__PURE__*/_jsx(NumberSlider,{min:0,max:100,default:1,step:1,handleChange:this.changePuntos}),/*#__PURE__*/_jsx(CalcProb,{result:this.state.probabilidad,min:this.state.r,max:this.state.nPoints,range:this.state.probRange,handleChange:this.changeRange})]});}}]);return BinomialNegativa2;}(Component);export default BinomialNegativa2;","map":{"version":3,"sources":["/home/gol_acheron/probability-calculator/src/Distributions/BinomialNegativa2.js"],"names":["Distribution","React","Component","NumberField","BarGraph","choose","factorial","CalcProb","NumberSlider","gr","labels","datasets","backgroundColor","highlightStroke","borderWidth","data","BinomialNegativa2","props","changeRange","event","value","setState","probRange","changeP","p","Number","target","changeR","r","changePuntos","nPoints","bind","state","name","descripcion","media","varianza","desviacion","probabilidad","_prevProps","prevState","calcularMedia","calcularVarianza","calcularDesviacion","Array","fill","map","_","idx","_data","calcularFuncion","res","console","log","i","calcularProbabilidad","result","prob","push","x"],"mappings":"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","sourcesContent":["import Distribution from './Distribution';\nimport React, {Component} from 'react'; \nimport NumberField from '../Components/NumberField';\nimport BarGraph from '../Components/BarGraph';\nimport {choose, factorial} from '../Libraries/MyMath';\nimport CalcProb from '../Components/CalcProb';\nimport NumberSlider from '../Components/NumberSlider';\n\n\nconst gr= {\n  labels: [],\n  datasets: [\n    {\n      backgroundColor: 'rgba(75,192,192, 0.6)',\n      highlightStroke: \"rgba(220,220,220,1)\",\n      borderWidth: 0,\n      data: []\n    }\n  ]\n}\n\nclass BinomialNegativa2 extends Component {\n    constructor (props) {\n      super(props);\n      this.changeR = this.changeR.bind(this);\n      this.changeP = this.changeP.bind(this);\n      this.changeRange = this.changeRange.bind(this);\n      this.changePuntos = this.changePuntos.bind(this);\n\n\n      this.state={\n        name: \"Binomial Negativa (v2)\",\n        descripcion: \"Número de fracasos HASTA el k-ésimo éxito.\",\n        p: 0,\n        r: 1,\n        media: 0,\n        nPoints: 1,\n        varianza: 0,\n        desviacion: 0,\n        probRange: [0,0],\n        probabilidad: 0\n      }\n    }\n\n    componentDidUpdate(_prevProps, prevState) {\n      if (prevState.p !== this.state.p || prevState.nPoints !== this.state.nPoints ||  prevState.r !== this.state.r || prevState.probRange !== this.state.probRange) {\n        this.setState({\n          media: this.calcularMedia(),\n          varianza: this.calcularVarianza(),\n          desviacion: this.calcularDesviacion(),\n        });\n\n        gr.labels = Array(this.state.nPoints - this.state.r + 1).fill().map((_, idx) =>  this.state.r + idx)\n        let _data = this.calcularFuncion();\n      \n\n        gr.datasets = [\n          {\n            backgroundColor: 'rgba(75,192,192, 0.6)',\n            highlightStroke: \"rgba(220,220,220,1)\",\n            borderWidth: 0,\n            data: _data\n          }\n        ]\n\n        let res = 0;\n        console.log(\"CALCULANDO ENTRE \" + this.state.probRange[0] + \" Y \" + this.state.probRange[1]);\n        for(let i=this.state.probRange[0]; i<=this.state.probRange[1]; i++){\n          console.log(this.calcularProbabilidad(i))\n          res += this.calcularProbabilidad(i);\n        }\n        console.log(\"RES= \" + res );\n        this.setState({\n          probabilidad: res\n        })\n      }\n    }\n\n    calcularMedia() {\n      let result = this.state.r / this.state.p;\n      return result;\n    }\n  \n    calcularVarianza() {\n      let result = this.state.r / this.state.p**2;\n      return result;\n    }\n\n    calcularDesviacion(){\n      let result = (this.state.r / this.state.p**2)**(0.5);\n      return result;\n    }\n\n    \n    calcularFuncion(){\n      let _data = [];\n\n      for (var i = this.state.r ; i <= this.state.nPoints; i++) {\n        let prob = this.calcularProbabilidad(i);\n        _data.push(Number(prob));\n      } \n\n      return _data;\n    }\n\n    calcularProbabilidad(x){\n      let result = choose(x -1, x-this.state.r) * this.state.p**(this.state.r) * (1-this.state.p)**(x-+this.state.r);\n      return result; \n    }\n\n    render(){\n      return(\n        <div>\n          <NumberField label={\"p\"} min={0} max={1} step={\"0.1\"} defaultValue={0} helpText={\"Probabilidad éxito\"} handleChange={this.changeP}/>\n          <NumberField label={\"k\"} min={1} max={999999} step={\"1\"} defaultValue={1} helpText={\"Nº éxito\"} handleChange={this.changeR}/>\n          <Distribution name={this.state.name} \n            descripcion={this.state.descripcion}\n            media={this.state.media} \n            varianza={this.state.varianza}\n            desviacion={this.state.desviacion}\n          />\n          <BarGraph data={gr}/>\n          <NumberSlider min={0} max={100} default={1} step={1} handleChange={this.changePuntos}/>\n          <CalcProb result={this.state.probabilidad} min={this.state.r} max={this.state.nPoints} range={this.state.probRange} handleChange={this.changeRange}/>\n\n          \n        </div>\n      )\n    }\n\n    changeRange = async function(event, value) {\n      await this.setState({ probRange: value });\n    };\n\n    changeP = async function(event) {\n      await this.setState({ p: Number(event.target.value) });\n    };\n\n    changeR = async function(event) {\n      await this.setState({ r: Number(event.target.value) });\n    };\n\n    changePuntos = async function(event, value) {\n      await this.setState({ nPoints: Number(value) });\n    };\n}\n\nexport default BinomialNegativa2;"]},"metadata":{},"sourceType":"module"}